"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[162,930],{18930:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var s=t(72791),n=t(58617),l=t(84373),r=t(70828),o=t(57689),c=t(80184);const i=()=>{var e,a,t,i,d,m;const h=(0,o.s0)();let v=localStorage.getItem("tabId");const u=(e,a,t)=>(t&&"a"===t.target.tagName.toLowerCase()&&t.preventDefault(),localStorage.setItem("tabId",e),"KlientInnen"===a?h("/customer/customer_info"):"Kontakte"===a?h("/customer/contact"):"Aktivitat"===a?h("/customer/activity"):"Dokumente"===a?h("/customer/document"):"Vollmachten"===a?h("/customer/attorney"):"SPV"===a?h("/customer/services"):"Rechnung"===a?h("/customer/bills"):void 0);(0,s.useEffect)((()=>{u("nav-home")}),[]);let x=localStorage.getItem("customerDatat"),p=JSON.parse(x);const g=(null===p||void 0===p||null===(e=p.fname)||void 0===e?void 0:e.slice(0,1).toUpperCase())+(null===p||void 0===p||null===(a=p.fname)||void 0===a?void 0:a.slice(1).toLowerCase()),f=(null===p||void 0===p||null===(t=p.lname)||void 0===t?void 0:t.slice(0,1).toUpperCase())+(null===p||void 0===p||null===(i=p.lname)||void 0===i?void 0:i.slice(1).toLowerCase());let b=(null===p||void 0===p||null===(d=p.street)||void 0===d?void 0:d.slice(0,1).toUpperCase())+(null===p||void 0===p||null===(m=p.street)||void 0===m?void 0:m.slice(1).toLowerCase());return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"whiteBox",children:[(0,c.jsx)("div",{className:"blueBoxTop",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-sm-4",children:[(0,c.jsxs)("p",{style:{color:"white",marginTop:"5px"},children:["KlientInnen: ","".concat(g," ").concat(f)]}),(0,c.jsx)(r.VFp,{style:{color:"white"}}),"\xa0",(0,c.jsx)("span",{style:{color:"white"},children:b})]}),(0,c.jsxs)("div",{className:"col-sm-8 mt-4 text-right",children:[(0,c.jsxs)("button",{className:"btn btn-outline",style:{color:"white",border:"1px solid white",marginRight:"10px"},children:[(0,c.jsx)(n.Zuw,{className:"f-2"})," ",null===p||void 0===p?void 0:p.email]}),(0,c.jsxs)("button",{className:"btn btn-outline",style:{color:"white",border:"1px solid white",marginRight:"10px"},children:[(0,c.jsx)(l.HQO,{className:"f-2"})," ",null===p||void 0===p?void 0:p.phone]})]})]})}),(0,c.jsxs)("div",{className:"whiteBoxWithPdLR",children:[(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("nav",{children:(0,c.jsxs)("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist",children:[(0,c.jsxs)("button",{className:"nav-link ".concat("nav-home"===v?"active":""),id:"nav-home-tab","data-bs-toggle":"tab",role:"tab","aria-selected":"nav-home"===v,onClick:e=>u("nav-home","KlientInnen",e),style:{marginRight:"50px",marginLeft:"20px"},children:[(0,c.jsx)("i",{className:"fa-solid fa-info fa-fw infoIcon"}),"KlientInnen"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("nav-kontakte"===v?"active":""),id:"nav-kontakte-tab","data-bs-toggle":"tab",role:"tab","aria-controls":"nav-kontakte","aria-selected":"nav-kontakte"===v,onClick:e=>u("nav-kontakte","Kontakte",e),style:{marginRight:"50px"},children:[" ",(0,c.jsx)("i",{className:"fa-regular fa-address-book fa-fw"}),"Kontakte"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("nav-aufgaben"===v?"active":""),id:"nav-aufgaben-tab","data-bs-toggle":"tab","data-bs-target":"#nav-aufgaben",role:"tab","aria-controls":"nav-aufgaben","aria-selected":"nav-aufgaben"===v,onClick:e=>u("nav-aufgaben","Aktivitat",e),style:{marginRight:"50px"},children:[(0,c.jsx)("i",{className:"fa-solid fa-heart-pulse fa-fw"}),"Aktivitat"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("nav-rechnungen"===v?"active":""),id:"nav-rechnungen-tab","data-bs-toggle":"tab","data-bs-target":"#nav-rechnungen",role:"tab","aria-controls":"nav-rechnungen","aria-selected":"nav-rechnungen"===v,onClick:e=>u("nav-rechnungen","Dokumente",e),style:{marginRight:"50px"},children:[(0,c.jsx)("i",{className:"fa-regular fa-file fa-fw"}),"Dokumente"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("nav-beschreibung"===v?"active":""),id:"nav-beschreibung-tab","data-bs-toggle":"tab","data-bs-target":"#nav-beschreibung",role:"tab","aria-controls":"nav-beschreibung","aria-selected":"nav-beschreibung"===v,onClick:e=>u("nav-beschreibung","Vollmachten",e),style:{marginRight:"50px"},children:[(0,c.jsx)("i",{className:"fa-solid fa-paint-roller fa-fw"}),"Vollmachten"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("nav-dokumente"===v?"active":""),id:"nav-dokumente-tab","data-bs-toggle":"tab","data-bs-target":"#nav-dokumente",role:"tab","aria-controls":"nav-dokumente","aria-selected":"nav-dokumente"===v,onClick:e=>u("nav-dokumente","SPV",e),style:{marginRight:"50px"},children:[" ",(0,c.jsx)("i",{className:"fa-regular fa-lightbulb fa-fw"}),"SPV"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("nav-leistungen"===v?"active":""),id:"nav-leistungen-tab","data-bs-toggle":"tab","data-bs-target":"#nav-leistungen",role:"tab","aria-controls":"nav-leistungen","aria-selected":"nav-leistungen"===v,onClick:e=>u("nav-leistungen","Rechnung",e),style:{marginRight:"50px"},children:[(0,c.jsx)("i",{className:"fa-regular fa-file-lines fa-fw"}),"Rechnung"]})]})})})}),(0,c.jsx)("br",{})]})]})})},d=s.memo(i)},96162:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var s=t(72791),n=t(29655),l=(t(5462),t(18930)),r=t(57689),o=t(80184);const c=()=>{const e=(0,r.s0)(),a=e=>(0,n.Am)(e),[t,c]=(0,s.useState)({AttorneyMasterData:!1,adoptDataFromHealthcare:!1,powerOfAttorneyData:Array.from({length:3},(()=>({powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:[]})))}),[i,d]=(0,s.useState)({CareProvisionMasterData:!1}),[m,h]=(0,s.useState)({SecuringMasterData:!1}),v=(e,a)=>{const{name:t,value:s}=e.target;p((e=>{const n=[...e.healthCareData],l="healthCare_phone"===t?u(s):s;return n[a]={...n[a],[t]:l},{...e,healthCareData:n}}))},u=e=>{const a=e.replace(/\D/g,"");let t="";for(let s=0;s<a.length;s++)s>0&&s%10===0&&(t+=" / "),t+=a[s];return t},[x,p]=(0,s.useState)({healthCareMasterData:!1,healthCareData:Array.from({length:3},(()=>({healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:[]})))}),g=(e,a)=>{const{name:t,value:s,type:n,checked:l}=e.target;c((e=>{const r=[...e.powerOfAttorneyData];if(r[a]={...r[a],[t]:"checkbox"===n?l:s},"powerOfAttorney_phone"===t){const e=s.replace(/\D/g,"");let n="";for(let a=0;a<e.length;a++)a>0&&a%10===0&&(n+=" / "),n+=e[a];r[a][t]=n}return{...e,powerOfAttorneyData:r}}))};let f=localStorage.getItem("customerDatat"),b=JSON.parse(f);const j={healthCare:x,powerOfAttorney:t,careProvision:i,securingattorney:m,customer_id:null===b||void 0===b?void 0:b._id};return(0,s.useEffect)((()=>{x.healthCareData.length<10&&p((e=>({...e,healthCareData:[...e.healthCareData,{healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:[]}]}))),t.powerOfAttorneyData.length<10&&c((e=>({...e,powerOfAttorneyData:[...e.powerOfAttorneyData,{powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:[]}]})))}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{style:{background:"#fff"},children:[(0,o.jsx)(l.default,{}),(0,o.jsx)("h5",{className:"mx-4",children:"Vollmachten"}),(0,o.jsxs)("div",{className:"mx-3",style:{border:"1px solid lightgray",borderRadius:"5px"},children:[(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"row p-3",children:(0,o.jsxs)("div",{className:"col-sm-12",children:[(0,o.jsx)("p",{style:{color:"blue"},children:"GESUNDHEITSVOLLMACHT"}),"\xa0Eintrag der Stammdaten\xa0\xa0\xa0",(0,o.jsx)("input",{type:"checkbox",onChange:v,value:x.healthCareMasterData,name:"healthCareMasterData"}),(0,o.jsx)("br",{}),(0,o.jsx)("p",{style:{color:"blue"},children:"Bevollm\xe4chtigte Person(en):"}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-sm-3",children:"Vorname"}),(0,o.jsx)("div",{className:"col-sm-3",children:"Nachname"}),(0,o.jsx)("div",{className:"col-sm-3",children:"Adresse"}),(0,o.jsx)("div",{className:"col-sm-3",children:"Telefone"})]}),x.healthCareData&&x.healthCareData.map(((e,a)=>(0,o.jsxs)("div",{className:"row mb-2",children:[(0,o.jsx)("div",{className:"col-sm-3",children:(0,o.jsx)("div",{className:"mb-2 row",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("input",{onChange:e=>v(e,a),value:e.healthCare_fname,name:"healthCare_fname",type:"text",placeholder:"John",className:"form-control",id:"fname_".concat(a)})})})}),(0,o.jsx)("div",{className:"col-sm-3",children:(0,o.jsx)("div",{className:"mb-2 row",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("input",{onChange:e=>v(e,a),value:e.healthCare_lname,type:"text",name:"healthCare_lname",placeholder:"Doe",className:"form-control",id:"lname_".concat(a)})})})}),(0,o.jsx)("div",{className:"col-sm-3",children:(0,o.jsx)("div",{className:"mb-2 row",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("input",{onChange:e=>v(e,a),value:e.healthCare_address,type:"text",name:"healthCare_address",placeholder:"Lorem Ipsum",className:"form-control",id:"address_".concat(a)})})})}),(0,o.jsx)("div",{className:"col-sm-3",children:(0,o.jsx)("div",{className:"mb-2 row",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("input",{onChange:e=>v(e,a),value:e.healthCare_phone,type:"text",name:"healthCare_phone",placeholder:"0121456789 / 0123456789",className:"form-control",id:"phone_".concat(a),maxLength:23,minLength:10})})})})]},a)))]})]})}),(0,o.jsx)("div",{className:"row p-3",children:(0,o.jsxs)("div",{className:"col-sm-12",children:[(0,o.jsx)("p",{style:{color:"blue"},children:"VORSORGEVOLLMACHT"}),"\xa0Eintrag der Stammdaten\xa0\xa0\xa0",(0,o.jsx)("input",{type:"checkbox",onChange:g,value:t.AttorneyMasterData,name:"AttorneyMasterData"}),(0,o.jsx)("br",{}),(0,o.jsx)("p",{style:{color:"blue"},children:"Bevollm\xe4chtigte Person(en):"}),"\xa0Datensatz aus Gesundheitsvollmacht \xfcbernehmen\xa0\xa0\xa0",(0,o.jsx)("input",{type:"checkbox",onChange:g,value:t.adoptDataFromHealthcare,name:"adoptDataFromHealthcare"}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-sm-3",children:"Vorname"}),(0,o.jsx)("div",{className:"col-sm-3",children:"Nachname"}),(0,o.jsx)("div",{className:"col-sm-3",children:"Adresse"}),(0,o.jsx)("div",{className:"col-sm-3",children:"Telefone"})]}),t.powerOfAttorneyData&&t.powerOfAttorneyData.map(((e,a)=>(0,o.jsxs)("div",{className:"row mb-2",children:[(0,o.jsx)("div",{className:"col-sm-3",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("input",{onChange:e=>g(e,a),value:e.powerOfAttorney_fname,name:"powerOfAttorney_fname",type:"text",placeholder:"John",className:"form-control",id:"inputPassword"})})})}),(0,o.jsx)("div",{className:"col-sm-3",children:(0,o.jsx)("div",{className:"mb-2 row",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("input",{onChange:e=>g(e,a),value:e.powerOfAttorney_lname,name:"powerOfAttorney_lname",type:"text",placeholder:"Doe",className:"form-control",id:"inputPassword"})})})}),(0,o.jsx)("div",{className:"col-sm-3",children:(0,o.jsx)("div",{className:"mb-2 row",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("input",{onChange:e=>g(e,a),value:e.powerOfAttorney_address,name:"powerOfAttorney_address",type:"text",placeholder:"Lorem Ipsum",className:"form-control",id:"inputPassword"})})})}),(0,o.jsx)("div",{className:"col-sm-3",children:(0,o.jsx)("div",{className:"mb-2 row",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("input",{onChange:e=>g(e,a),value:e.powerOfAttorney_phone,name:"powerOfAttorney_phone",type:"text",placeholder:"0121456789 / 0123456789",className:"form-control",id:"inputPassword",maxLength:23,minLength:10})})})})]},a)))]})})]}),(0,o.jsx)("div",{className:"row p-3",children:(0,o.jsxs)("div",{className:"col-sm-12",children:[(0,o.jsx)("p",{style:{color:"blue"},children:"BETREUUNGSVER F\xdcGUNG"}),"\xa0Eintrag der Stammdaten\xa0\xa0\xa0",(0,o.jsx)("input",{type:"checkbox",onChange:e=>{const{name:a,checked:t}=e.target;d({...i,[a]:t})},value:i.CareProvisionMasterData,name:"CareProvisionMasterData"})]})}),(0,o.jsx)("hr",{className:"mx-3"}),(0,o.jsx)("div",{className:"row p-3",children:(0,o.jsxs)("div",{className:"col-sm-12",children:[(0,o.jsx)("p",{style:{color:"blue"},children:"VOLLMACHT Z UR A B SICHERUNG DES DIGITALEN ER B ES"}),"\xa0Eintrag der Stammdaten\xa0\xa0\xa0",(0,o.jsx)("input",{type:"checkbox",onChange:e=>{const{name:a,value:t,type:s,checked:n}=e.target,l="checkbox"===s?n:t;h({...m,[a]:l})},value:m.SecuringMasterData,name:"SecuringMasterData"})]})}),(0,o.jsx)("hr",{className:"mx-3"}),(0,o.jsxs)("div",{className:"row ",children:[(0,o.jsx)("div",{className:"col-sm-9"}),(0,o.jsxs)("div",{className:"col-sm-3 mb-3",children:[(0,o.jsx)("button",{onClick:()=>{e("/customer/customer_info")},type:"button",className:"btn btn",style:{background:"#d04545",color:"white"},children:"Abbrechen"}),"\xa0 \xa0",(0,o.jsx)("button",{onClick:async()=>{try{const e=[x,t,i,m];let s=!1;for(const a of e){for(const e in a)if(""!==a[e]){s=!0;break}if(s)break}if(!s)return void a("Please fill in at least one field");let n=await fetch("".concat("http://95.217.77.208:4142","/attorney/create_attorney"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),l=await n.json();console.log(l.status),201===l.status?a("Data saved successfully!"):a("Please fill in at least one field!"),p((e=>({...e,healthCareData:Array.from({length:4},(()=>({healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:""})))}))),c((e=>({...e,powerOfAttorneyData:Array.from({length:4},(()=>({powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:""})))}))),d((e=>({...e,CareProvisionMasterData:""}))),h((e=>({...e,prevSecuringMasterData:""})))}catch(e){console.log("Error saving data:",e),a("Error saving data. Please try again.")}console.log(j)},type:"button",style:{background:"#0b5995",color:"white"},className:"btn btn",children:"Speichern Sie"})]})]})]}),(0,o.jsx)(n.Ix,{})]})})},i=s.memo(c)}}]);
//# sourceMappingURL=162.966385b0.chunk.js.map