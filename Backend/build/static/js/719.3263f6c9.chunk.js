"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[719],{99355:(e,t,n)=>{n.d(t,{QA:()=>l,Wq:()=>c,ZC:()=>a,yu:()=>s});var o=n(55294);const a=async(e,t)=>{try{const n=await(0,o.Z)({method:"post",url:e,headers:{"Content-Type":"multipart/form-data"},data:t});if(n)return n}catch(n){return n}},s=async(e,t)=>{try{const n=localStorage.getItem("token"),a=await(0,o.Z)({method:"put",url:"".concat(e),headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},data:t});if(a)return a}catch(a){var n;return 401===(null===a||void 0===a||null===(n=a.response)||void 0===n?void 0:n.status)?401:a.response}},c=async(e,t)=>{try{const n=await(0,o.Z)({method:"delete",url:"".concat(e,"/").concat(t),headers:{"Content-Type":"application/json"}});if(200===n.status)return n}catch(a){var n;if(401===(null===a||void 0===a||null===(n=a.response)||void 0===n?void 0:n.status))return 401}},l=async(e,t)=>{try{const n=await(0,o.Z)({method:"post",url:"".concat(e),headers:{"Content-Type":"application/json"},data:t});if(n)return null===n||void 0===n?void 0:n.data}catch(a){var n;return 401===(null===a||void 0===a||null===(n=a.response)||void 0===n?void 0:n.status)?401:a}}},9719:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var o=n(72791),a=n(51910),s=n(16856),c=n(33598),l=n(76053),r=n(99355),d=n(80184);const i=[{title:"Title",dataIndex:"document_title",render:e=>(0,d.jsx)("a",{children:e})},{title:"Dokumententyp",dataIndex:"document_type"},{title:"AKTION",dataIndex:"action",render:(e,t)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Uf_,{}),"\xa0 Bearbeiten \xa0\xa0\xa0",(0,d.jsx)(s.ZkW,{}),"L\xf6schen"]})}],u={onChange:(e,t)=>{console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},getCheckboxProps:e=>({disabled:"Disabled User"===e.name,name:e.name})},m=()=>{const[e,t]=(0,o.useState)("checkbox"),[n,l]=(0,o.useState)(!1),m="http://95.217.77.208:4142";let h=localStorage.getItem("customerDatat"),p=JSON.parse(h);const[x,j]=(0,o.useState)({document_title:"",document_type:"",customer_id:p._id}),[y,_]=(0,o.useState)(""),[b,v]=(0,o.useState)([]),f=e=>{const{name:t,value:n}=e.target;j({...x,[t]:n})},g=()=>l(!1),w=async()=>{try{const e=await fetch("".concat(m,"/document/get_document")),t=await e.json();v(t)}catch(e){console.error("Error fetching customer record:",e)}};let k=b;return(0,o.useEffect)((()=>{w()}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("h5",{className:"mt-3 mx-3",children:"Dokumente"}),(0,d.jsx)("hr",{})]}),(0,d.jsxs)("div",{className:"row",style:{border:"1px solid lightgray",borderRadius:"5px"},children:[(0,d.jsxs)("div",{className:"col-sm-7",children:[(0,d.jsx)("h5",{children:"Dokumente verwalten"}),(0,d.jsx)("p",{children:"Senden Sie anpassbare Angebote, Vorschl\xe4ge und Vertr\xe4ge, um Gesch\xe4fte schneller abzuschlie\xdfen."})]}),(0,d.jsx)("div",{className:"col-sm-2"}),(0,d.jsxs)("div",{className:"col-sm-3 mt-3",children:[(0,d.jsxs)("button",{type:"button",className:"btn btn text-light",style:{background:"#0b5995"},onClick:()=>l(!0),children:[(0,d.jsx)(s.x06,{style:{color:"white"}}),"\xa0 Dokument erstellen"]}),(0,d.jsxs)(a.Z,{show:n,onHide:g,centered:!0,children:[(0,d.jsx)(a.Z.Header,{closeButton:!0,children:(0,d.jsx)(a.Z.Title,{children:"Details zum Dokument"})}),(0,d.jsxs)(a.Z.Body,{children:[(0,d.jsx)("label",{htmlFor:"title",children:"Titel"}),(0,d.jsx)("input",{id:"title",required:!0,name:"document_title",value:x.document_title,onChange:f,type:"text",className:"form-control"}),(0,d.jsx)("label",{htmlFor:"documentType",children:"Documenttype"}),(0,d.jsxs)("select",{id:"document_type",name:"document_type",value:x.document_type,onChange:f,className:"form-control",children:[(0,d.jsx)("option",{children:"--select--"}),(0,d.jsx)("option",{value:"pdf",children:"pdf"})]}),(0,d.jsx)("label",{htmlFor:"fileUpload",children:"Datei-Upload"}),(0,d.jsx)("input",{id:"fileUpload",type:"file",className:"form-control",name:"document_upload",onChange:e=>_(e.target.files[0])})]}),(0,d.jsx)(a.Z.Footer,{children:(0,d.jsxs)("div",{className:"modal-footer",children:[(0,d.jsxs)("button",{className:"btn btn",onClick:g,style:{background:"#d04545",color:"white"},children:[" ","Abbrechen"]}),"\xa0 \xa0",(0,d.jsx)("button",{className:"btn btn",onClick:async e=>{try{e.preventDefault();const t=new FormData;t.append("document_title",x.document_title),t.append("document_type",x.document_type),t.append("customer_id",x.customer_id),t.append("document_upload",y),console.log(t);const n="".concat(m,"/document/create_document");console.log(n);await(0,r.ZC)(n,t);g(),w()}catch(t){return t}},style:{background:"#0b5995",color:"white"},children:"Speichern"})]})})]})]})]}),(0,d.jsx)("br",{}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)(c.Z,{rowSelection:{type:e,...u},columns:i,dataSource:k})})})]})},h=o.memo(m)}}]);
//# sourceMappingURL=719.3263f6c9.chunk.js.map