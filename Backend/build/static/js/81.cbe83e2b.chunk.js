"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[81],{89081:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(65043),i=s(87534),l=s(46237),c=s(33406),n=s(94834),r=s(11760),o=s(47503),d=(s(92342),s(77154)),h=s(70579);const u=e=>{var t,s;let{updateData:r,search:u}=e;const x="http://95.217.77.208:4142",[m,v]=(0,a.useState)(1),[j,g]=(0,a.useState)([]),[p,w]=(0,a.useState)(0),[N,b]=(0,a.useState)([]);let k=localStorage.getItem("record"),y=JSON.parse(k);console.log("aast",null===y||void 0===y||null===(t=y.user)||void 0===t?void 0:t.username);let f=null===y||void 0===y||null===(s=y.user)||void 0===s?void 0:s.username;return console.log("eemployeeData",N),(0,a.useEffect)((()=>{(async()=>{try{var e,t;const s=await d.A.get("".concat(x,"/activity/get_activity?keyword=").concat(u,"&page=").concat(m));g(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.data),w(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.pageCount)}catch(s){console.log(s)}})(),(async()=>{try{const e=await fetch("".concat(x,"/user/get/employeeData")),t=await e.json();b(null===t||void 0===t?void 0:t.data)}catch(e){console.error("Error fetching customer record:",e)}})()}),[r,m,u]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col",children:(0,h.jsx)("div",{className:"block-wrap",children:(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsxs)("table",{className:"table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"col-1 ",children:"AKTION"}),(0,h.jsx)("th",{className:"col-1 ",children:"DATUM"}),(0,h.jsx)("th",{className:"col-4 ",children:"NOTIZ"}),(0,h.jsx)("th",{className:"col-4 ",children:"MITARBEITERINNEN"})]})}),(0,h.jsx)("tbody",{children:null===j||void 0===j?void 0:j.map((e=>{const{createdAt:t,icon:s,message:a,_id:r}=e,o=new Date(t),d=null===o||void 0===o?void 0:o.getUTCDate(),u=(null===o||void 0===o?void 0:o.getUTCMonth())+1,x=null===o||void 0===o?void 0:o.getUTCFullYear(),m="".concat(d,".").concat(u<10?"0":"").concat(u,".").concat(x<10?"0":"").concat(x);return(0,h.jsxs)("tr",{style:{margin:"auto",width:"50%",padding:" 10px"},children:[(0,h.jsx)("td",{children:(0,h.jsx)("span",{style:{border:"1px solid #015291",borderRadius:"5px",width:"40px",height:"40px",padding:"5px",textAlign:"center",color:"#015291",display:"flex",justifyContent:"center",alignItems:"center"},children:(v=s,"PhoneOutlined"===v?(0,h.jsx)(i.A,{}):"CheckCircleOutlined"===v?(0,h.jsx)(l.A,{}):"PrinterOutlined"===v?(0,h.jsx)(n.A,{}):"RedEnvelopeOutlined"===v?(0,h.jsx)(c.A,{}):void 0)})}),(0,h.jsxs)("td",{children:[m," "]}),(0,h.jsx)("td",{children:a}),(0,h.jsx)("td",{children:f})]},r);var v}))})]})})})})})}),(0,h.jsx)(o.N9,{})]})};var x=s(8124),m=s(27149);const v=()=>{let e=localStorage.getItem("customerDatat"),t=JSON.parse(e);const[s,d]=(0,a.useState)("white"),[v,j]=(0,a.useState)("white"),[g,p]=(0,a.useState)("white"),[w,N]=(0,a.useState)("white"),[b,k]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[A,R]=(0,a.useState)(!1),[_,D]=(0,a.useState)(!1),[O,I]=(0,a.useState)(""),[E,T]=(0,a.useState)(""),[P,B]=(0,a.useState)(!1),[U,z]=(0,a.useState)(!0),[F,M]=(0,a.useState)({message:"",customer_id:null===t||void 0===t?void 0:t._id}),J=(e,t,s)=>{switch(I(e),e){case"PhoneOutlined":k(!0),f(!1),C(!1),R(!1),d(t),j("white"),p("white"),N("white");break;case"CheckCircleOutlined":f(!0),k(!1),C(!1),R(!1),j(t),d("white"),p("white"),N("white");break;case"RedEnvelopeOutlined":C(!0),f(!1),k(!1),R(!1),p(t),j("white"),d("white"),N("white");break;case"PrinterOutlined":R(!0),C(!1),f(!1),k(!1),N(t),j("white"),p("white"),d("white")}};let K={...F,icon:O};return(0,h.jsxs)("div",{className:"inner-page-wrap",style:{background:"white"},children:[(0,h.jsx)(x.default,{}),(0,h.jsxs)("div",{className:"row  mt-2 mx-3",children:[(0,h.jsx)("div",{className:"col-md-2 tab-title-activity d-flex",children:(0,h.jsx)("h4",{children:"Beschreibung"})}),(0,h.jsxs)("div",{className:"col-md-7",children:[(0,h.jsx)(i.A,{className:"p-2",style:{border:"1px solid #244D92",borderRadius:"5px",marginRight:"10px",background:s,color:b?"white":"#244D92"},onClick:()=>J("PhoneOutlined","#015290")}),(0,h.jsx)(l.A,{className:"p-2",style:{border:"1px solid #244D92",borderRadius:"5px",marginRight:"10px",background:v,color:y?"white":"#244D92"},onClick:()=>J("CheckCircleOutlined","#015290")}),(0,h.jsx)(c.A,{className:"p-2",style:{border:"1px solid #244D92",borderRadius:"5px",marginRight:"10px",background:g,color:S?"white":"#244D92"},onClick:()=>J("RedEnvelopeOutlined","#015290")}),(0,h.jsx)(n.A,{className:"p-2",style:{border:"1px solid #244D92",borderRadius:"5px",marginRight:"10px",background:w,color:A?"white":"#244D92"},onClick:()=>J("PrinterOutlined","#015290")})]}),U?(0,h.jsx)("div",{className:"col-md-3 text-end",children:(0,h.jsxs)("button",{className:"btn btn",style:{background:"#015291",color:"white"},onClick:()=>{B(!0),z(!1)},children:[(0,h.jsx)(m.jgn,{}),"Aktivit\xe4t hinzuf\xfcgen"]})}):""]}),(0,h.jsx)("hr",{}),(0,h.jsxs)("div",{className:"tab-content",children:[(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col",children:(0,h.jsx)("div",{className:"block-wrap",children:(0,h.jsx)("div",{className:"container-fluid",children:P?(0,h.jsxs)("div",{className:"mt-2",children:[(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("textarea",{className:"form-control",rows:6,name:"message",placeholder:"Notiz",value:null===F||void 0===F?void 0:F.message,onChange:e=>{const{name:t,value:s}=e.target;M({...F,[t]:s})}})}),(0,h.jsx)("div",{className:"bottomBtnBg",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-sm-12",children:(0,h.jsxs)("div",{style:{float:"right"},children:[(0,h.jsx)("button",{className:"btn",style:{background:"#d04545",color:"white"},onClick:()=>{B(!1),z(!0)},children:"Abbrechen"}),"\xa0\xa0",(0,h.jsx)("button",{className:"btn mx-2",style:{background:"#0b5995",color:"white"},onClick:async()=>{for(const t in F)if(!F[t])return void o.oR.error("Bitte f\xfcllen Sie das Feld ".concat(t," aus"));try{const e=await(0,r.Hl)("".concat("http://95.217.77.208:4142","/activity/create_activity"),K);"activity was created"===(null===e||void 0===e?void 0:e.message)?(o.oR.success("Aktivit\xe4tsdaten wurden erfolgreich erstellt"),B(!1),M({message:""}),N("white"),j("white"),p("white"),d("white"),R(!1),C(!1),f(!1),k(!1),z(!0)):o.oR.error("Etwas ist schief gelaufen"),D(!_),B(!1)}catch(e){console.log(e)}},children:"Aktivit\xe4t hinzuf\xfcgen"})]})})})})]}):(0,h.jsxs)("div",{className:"row ",children:[(0,h.jsxs)("div",{className:"col-sm-4",children:[(0,h.jsx)("p",{children:"Planen und verwalten Sie Aktivit\xe4ten mit KlientInnen."}),(0,h.jsx)("div",{className:"form-search-control",children:(0,h.jsx)("input",{type:"search",className:"form-control form-search",placeholder:"Ihre Suche eingeben",value:E,onChange:e=>T(e.target.value)})})]}),(0,h.jsx)("div",{className:"col-sm-8 text-right"})]})})})})})}),(0,h.jsx)(u,{updateData:_,search:E}),(0,h.jsx)(o.N9,{})]})]})},j=a.memo(v)}}]);
//# sourceMappingURL=81.cbe83e2b.chunk.js.map