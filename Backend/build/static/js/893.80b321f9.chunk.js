"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[893,940],{26940:(e,a,l)=>{l.r(a),l.d(a,{default:()=>s});var r=l(65043),o=l(31899),t=l.n(o),n=(l(25015),l(70579));const s=e=>{let{onChange:a,selected:l}=e;return(0,r.useEffect)((()=>{}),[]),(0,n.jsx)("div",{children:(0,n.jsx)(t(),{className:"form-control form-search-control w-101",placeholderText:"Geburtsdatum",selected:l,onChange:a,dateFormat:"dd.MM.yyyy"})})}},87893:(e,a,l)=>{l.r(a),l.d(a,{default:()=>c});var r=l(65043),o=l(47503),t=(l(92342),l(8124)),n=l(73216),s=l(26940),d=(l(48555),l(70579));const i=()=>{var e,a,l,i,c,h,m,v;const[u,p]=(0,r.useState)([]),x=(0,n.Zp)(),j="http://95.217.77.208:4142",[f,C]=(0,r.useState)({AttorneyMasterData:!1,adoptDataFromHealthcare:Boolean(null===u||void 0===u||null===(e=u.powerOfAttorney)||void 0===e?void 0:e.adoptDataFromHealthcare),powerOfAttorneyData:Array.from({length:4},(()=>{var e,a,l,r,o,t,n,s,d,i;return{powerOfAttorney_fname:null===u||void 0===u||null===(e=u.healthCare)||void 0===e||null===(a=e.healthCareData)||void 0===a?void 0:a.map((e=>e.healthCare_fname)),powerOfAttorney_lname:null===u||void 0===u||null===(l=u.healthCare)||void 0===l||null===(r=l.healthCareData)||void 0===r?void 0:r.map((e=>e.healthCare_lname)),powerOfAttorney_address:null===u||void 0===u||null===(o=u.healthCare)||void 0===o||null===(t=o.healthCareData)||void 0===t?void 0:t.map((e=>e.healthCare_address)),powerOfAttorney_mobile:null===u||void 0===u||null===(n=u.healthCare)||void 0===n||null===(s=n.healthCareData)||void 0===s?void 0:s.map((e=>e.healthCare_mobile)),powerOfAttorney_phone:null===u||void 0===u||null===(d=u.healthCare)||void 0===d||null===(i=d.healthCareData)||void 0===i?void 0:i.map((e=>e.healthCare_phone))}}))}),[_,y]=(0,r.useState)({care_association:(null===u||void 0===u||null===(a=u.careProvision)||void 0===a?void 0:a.care_association)||""}),[N,w]=(0,r.useState)({fname:(null===u||void 0===u||null===(l=u.securingattorney)||void 0===l?void 0:l.fname)||"",lname:(null===u||void 0===u||null===(i=u.securingattorney)||void 0===i?void 0:i.lname)||"",address:(null===u||void 0===u||null===(c=u.securingattorney)||void 0===c?void 0:c.address)||"",dob:(null===u||void 0===u||null===(h=u.securingattorney)||void 0===h?void 0:h.dob)||"",plz:(null===u||void 0===u||null===(m=u.securingattorney)||void 0===m?void 0:m.plz)||"",ort:(null===u||void 0===u||null===(v=u.securingattorney)||void 0===v?void 0:v.ort)||""}),g=(e,a)=>{const{name:l,value:r,type:o,checked:t}=e.target;A((e=>{const n=[...e.healthCareData];if("checkbox"===o)n[a]={...n[a],[l]:t};else{const e="healthCare_phone"===l||r&&"healthCare_mobile"===l?b(r):r;n[a]={...n[a],[l]:e}}return{...e,healthCareData:n}}))},b=e=>{const a=e.replace(/\D/g,"");let l="";for(let r=0;r<a.length;r++)r>0&&r%30===0&&(l+=" / "),l+=a[r];return l},[D,A]=(0,r.useState)({healthCareData:Array.from({length:4},(()=>{var e,a,l,r,o,t,n,s,d,i;return{healthCare_fname:null===u||void 0===u||null===(e=u.healthCare)||void 0===e||null===(a=e.healthCareData)||void 0===a?void 0:a.map((e=>e.healthCare_fname)),healthCare_lname:null===u||void 0===u||null===(l=u.healthCare)||void 0===l||null===(r=l.healthCareData)||void 0===r?void 0:r.map((e=>e.healthCare_lname)),healthCare_address:null===u||void 0===u||null===(o=u.healthCare)||void 0===o||null===(t=o.healthCareData)||void 0===t?void 0:t.map((e=>e.healthCare_address)),healthCare_mobile:null===u||void 0===u||null===(n=u.healthCare)||void 0===n||null===(s=n.healthCareData)||void 0===s?void 0:s.map((e=>e.healthCare_mobile)),healthCare_phone:null===u||void 0===u||null===(d=u.healthCare)||void 0===d||null===(i=d.healthCareData)||void 0===i?void 0:i.map((e=>e.healthCare_phone))}}))}),O=(e,a)=>{const{name:l,value:r,type:o,checked:t}=e.target;C((e=>{const n=[...e.powerOfAttorneyData];if("checkbox"===o)n[a]={...n[a],[l]:t};else{const e="powerOfAttorney_phone"===l||r&&"powerOfAttorney_mobile"===l?b(r):r;n[a]={...n[a],[l]:e}}return{...e,powerOfAttorneyData:n}}))},k=e=>{if(e instanceof Date){let a=new Date,l=a.getFullYear(),r=a.getMonth(),t=a.getDate();if(e.getFullYear()>l||e.getFullYear()===l&&e.getMonth()>r||e.getFullYear()===l&&e.getMonth()===r&&e.getDate()>t+1)return o.oR.warning("Das Startdatum darf nicht in der Zukunft liegen");w({...N,dob:e})}else if(e.target){const{name:a,value:l,type:r,checked:o}=e.target;if("plz"===a&&"text"===r){const e=l.replace(/[^0-9]/g,"");w({...N,plz:e})}else w({...N,[a]:"checkbox"===r?o:l})}else void 0!==e.value?w({...N,salution:e.value}):console.error("Invalid event or data provided to ContactChange.")};let P=localStorage.getItem("customerRecord"),F=JSON.parse(P);const S={healthCare:D,powerOfAttorney:f,careProvision:_,securingattorney:N,customer_id:null===F||void 0===F?void 0:F._id};console.log("recorddata",u);return(0,r.useEffect)((()=>{var e,a,l,r,o,t,n;y({care_association:null===u||void 0===u||null===(e=u.careProvision)||void 0===e?void 0:e.care_association}),w({fname:null===u||void 0===u||null===(a=u.securingattorney)||void 0===a?void 0:a.fname,lname:null===u||void 0===u||null===(l=u.securingattorney)||void 0===l?void 0:l.lname,address:null===u||void 0===u||null===(r=u.securingattorney)||void 0===r?void 0:r.address,dob:null===u||void 0===u||null===(o=u.securingattorney)||void 0===o?void 0:o.dob,plz:null===u||void 0===u||null===(t=u.securingattorney)||void 0===t?void 0:t.plz,ort:null===u||void 0===u||null===(n=u.securingattorney)||void 0===n?void 0:n.ort}),C((e=>({...e,powerOfAttorneyData:Array.from({length:4},((a,l)=>({powerOfAttorneyData:e.powerOfAttorneyData.map(((e,a)=>{var l,r,o,t,n,s,d,i,c,h,m,v,p,x,j;return{...e,powerOfAttorney_fname:(null===u||void 0===u||null===(l=u.healthCare)||void 0===l||null===(r=l.healthCareData)||void 0===r||null===(o=r[a])||void 0===o?void 0:o.healthCare_fname)||e.powerOfAttorney_fname,powerOfAttorney_lname:(null===u||void 0===u||null===(t=u.healthCare)||void 0===t||null===(n=t.healthCareData)||void 0===n||null===(s=n[a])||void 0===s?void 0:s.healthCare_lname)||e.powerOfAttorney_lname,powerOfAttorney_address:(null===u||void 0===u||null===(d=u.healthCare)||void 0===d||null===(i=d.healthCareData)||void 0===i||null===(c=i[a])||void 0===c?void 0:c.healthCare_address)||e.powerOfAttorney_address,powerOfAttorney_mobile:(null===u||void 0===u||null===(h=u.healthCare)||void 0===h||null===(m=h.healthCareData)||void 0===m||null===(v=m[a])||void 0===v?void 0:v.healthCare_mobile)||e.powerOfAttorney_mobile,powerOfAttorney_phone:(null===u||void 0===u||null===(p=u.healthCare)||void 0===p||null===(x=p.healthCareData)||void 0===x||null===(j=x[a])||void 0===j?void 0:j.healthCare_phone)||e.powerOfAttorney_phone}}))})))}))),A((e=>({...e,healthCareData:Array.from({length:4},((a,l)=>{var r,o,t,n,s,d,i,c,h,m,v,p,x,j,f,C,_,y,N,w;return{healthCare_fname:(null===u||void 0===u||null===(r=u.healthCare)||void 0===r||null===(o=r.healthCareData)||void 0===o||null===(t=o[l])||void 0===t?void 0:t.healthCare_fname)||(null===(n=e.healthCareData[l])||void 0===n?void 0:n.healthCare_fname)||"",healthCare_lname:(null===u||void 0===u||null===(s=u.healthCare)||void 0===s||null===(d=s.healthCareData)||void 0===d||null===(i=d[l])||void 0===i?void 0:i.healthCare_lname)||(null===(c=e.healthCareData[l])||void 0===c?void 0:c.healthCare_lname)||"",healthCare_address:(null===u||void 0===u||null===(h=u.healthCare)||void 0===h||null===(m=h.healthCareData)||void 0===m||null===(v=m[l])||void 0===v?void 0:v.healthCare_address)||(null===(p=e.healthCareData[l])||void 0===p?void 0:p.healthCare_address)||"",healthCare_mobile:(null===u||void 0===u||null===(x=u.healthCare)||void 0===x||null===(j=x.healthCareData)||void 0===j||null===(f=j[l])||void 0===f?void 0:f.healthCare_mobile)||(null===(C=e.healthCareData[l])||void 0===C?void 0:C.healthCare_mobile)||"",healthCare_phone:(null===u||void 0===u||null===(_=u.healthCare)||void 0===_||null===(y=_.healthCareData)||void 0===y||null===(N=y[l])||void 0===N?void 0:N.healthCare_phone)||(null===(w=e.healthCareData[l])||void 0===w?void 0:w.healthCare_phone)||""}}))})))}),[u,4]),(0,r.useEffect)((()=>{D.healthCareData.length<10&&A((e=>({...e,healthCareData:[...e.healthCareData,{healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:[]}]}))),(async()=>{try{const e=await fetch("".concat(j,"/attorney/get_attorney/").concat(F._id)),a=await e.json();p(a)}catch(e){console.error("Error fetching customer record:",e)}})(),f.powerOfAttorneyData.length<10&&C((e=>({...e,powerOfAttorneyData:[...e.powerOfAttorneyData,{powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:[],powerOfAttorney_mobile:[]}]})))}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.default,{}),(0,d.jsxs)("div",{className:"inner-page-wrap",children:[(0,d.jsxs)("div",{className:"tab-content",children:[(0,d.jsx)("div",{className:"tab-title",children:(0,d.jsx)("h4",{children:"Vollmachten"})}),(0,d.jsxs)("div",{className:"block-wrap m-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-sm-12",children:[(0,d.jsx)("h3",{style:{color:"#244D92"},children:"Gesundheitsvollmacht"}),(0,d.jsx)("p",{className:"",style:{color:"#244D92"},children:"Bevollm\xe4chtigte Person(en):"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"row mb-2",children:[(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Vorname"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Nachname"})}),(0,d.jsx)("div",{className:"col-sm-4",children:(0,d.jsx)("b",{children:"Adresse"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Telefon"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Mobil"})})]}),(0,d.jsx)("div",{children:D.healthCareData&&D.healthCareData.map(((e,a)=>(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:e=>g(e,a),value:e.healthCare_fname,name:"healthCare_fname",type:"text",placeholder:"Vorname",className:"form-control z",id:"fname_".concat(a)})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:e=>g(e,a),value:e.healthCare_lname,type:"text",name:"healthCare_lname",placeholder:"Nachname",className:"form-control",id:"lname_".concat(a)})})})}),(0,d.jsx)("div",{className:"col-sm-4",children:(0,d.jsx)("div",{className:" row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:e=>g(e,a),value:e.healthCare_address,type:"text",name:"healthCare_address",placeholder:"Adresse",className:"form-control",id:"address_".concat(a)})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:" row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:e=>g(e,a),value:e.healthCare_phone,type:"text",name:"healthCare_phone",placeholder:"853-456-8464",className:"form-control",id:"phone_".concat(a),maxLength:30,minLength:10})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:" row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:e=>g(e,a),value:e.healthCare_mobile,type:"text",name:"healthCare_mobile",placeholder:"853-456-8464",className:"form-control",id:"phone_".concat(a),maxLength:30,minLength:10})})})})]},a)))})]})]})}),(0,d.jsx)("hr",{}),(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-sm-12",children:[(0,d.jsx)("h3",{style:{color:"#244D92"},children:"Vorsorgevollmacht"}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{htmlFor:"adoptDataFromHealthcare",className:"col-sm-3 col-form-label",children:"Daten aus Gesundheitsvollmacht \xfcbernehmen"}),(0,d.jsxs)("div",{className:"col-sm-1 radio-check-wrap mt-2",children:[(0,d.jsx)("input",{type:"checkbox",onChange:()=>{C((e=>({...e,adoptDataFromHealthcare:!e.adoptDataFromHealthcare,powerOfAttorneyData:e.adoptDataFromHealthcare?f.powerOfAttorneyData.map((e=>({powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:"",powerOfAttorney_mobile:""}))):D.healthCareData.map((e=>({powerOfAttorney_fname:e.healthCare_fname,powerOfAttorney_lname:e.healthCare_lname,powerOfAttorney_address:e.healthCare_address,powerOfAttorney_phone:e.healthCare_phone,powerOfAttorney_mobile:e.healthCare_mobile})))})))},checked:f.adoptDataFromHealthcare,name:"adoptDataFromHealthcare"}),(0,d.jsx)("span",{})]})]}),(0,d.jsx)("p",{className:"",style:{color:"#244D92"},children:"Bevollm\xe4chtigte Person(en):"}),(0,d.jsxs)("div",{className:"row mb-2 mt-3",children:[(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Vorname"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Nachname"})}),(0,d.jsx)("div",{className:"col-sm-4",children:(0,d.jsx)("b",{children:"Adresse"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Telefon"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Mobil"})})]}),f.powerOfAttorneyData&&f.powerOfAttorneyData.map(((e,a)=>(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:e=>O(e,a),value:e.powerOfAttorney_fname,name:"powerOfAttorney_fname",type:"text",placeholder:"Vorname",className:"form-control",id:"inputPassword"})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:e=>O(e,a),value:e.powerOfAttorney_lname,name:"powerOfAttorney_lname",type:"text",placeholder:"Nachname",className:"form-control",id:"inputPassword"})})})}),(0,d.jsx)("div",{className:"col-sm-4",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:e=>O(e,a),value:e.powerOfAttorney_address,name:"powerOfAttorney_address",type:"text",placeholder:"Adresse",className:"form-control",id:"inputPassword"})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:e=>O(e,a),value:e.powerOfAttorney_phone,name:"powerOfAttorney_phone",type:"text",placeholder:"853-456-8464",className:"form-control",id:"inputPassword",maxLength:30,minLength:10})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:e=>O(e,a),value:e.powerOfAttorney_mobile,name:"powerOfAttorney_mobile",type:"text",placeholder:"853-456-8464",className:"form-control",id:"inputPassword",maxLength:30,minLength:10})})})})]},a)))]})})]}),(0,d.jsx)("hr",{}),(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-sm-12",children:[(0,d.jsx)("h3",{style:{color:"#244D92"},children:"Betreuungsverf\xfcgung"}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-2 col-form-label",children:"Betreuungsverein"}),(0,d.jsx)("div",{className:"col-sm-10",children:(0,d.jsx)("textarea",{value:_.care_association,name:"care_association",onChange:e=>{const{name:a,value:l}=e.target;y({..._,[a]:l})},className:"form-control",placeholder:"Betreuungsverein"})})]}),(0,d.jsx)("hr",{})]})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-sm-12",children:[(0,d.jsx)("h3",{style:{color:"#244D92"},children:"Vollmacht zur Absicherung des digitalen Erbes"}),(0,d.jsxs)("div",{className:"row mb-2 mt-3",children:[(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Vorname"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Nachname"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Geburtsdatum"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Stra\xdfe mit Hausnummer"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"PLZ"})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("b",{children:"Ort"})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:k,name:"fname",value:N.fname,type:"text",placeholder:"Vorname",className:"form-control",id:"inputPassword"})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:k,name:"lname",value:N.lname,type:"text",placeholder:"Nachname",className:"form-control",id:"inputPassword"})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)(s.default,{className:"form-control",selected:N.dob,onChange:k})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:k,value:N.address,name:"address",type:"text",placeholder:"Stra\xdfe mit Hausnummer",className:"form-control"})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:k,name:"plz",value:N.plz,type:"text",className:"form-control",placeholder:"PLZ",maxLength:6,minLength:3})})})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("input",{onChange:k,name:"ort",value:N.ort,type:"text",className:"form-control",placeholder:"Ort"})})})})]})]})}),(0,d.jsx)("hr",{}),(0,d.jsxs)("div",{className:"text-end mx-3",children:[(0,d.jsx)("button",{onClick:()=>{localStorage.removeItem("tabId"),x("/customer/customer_info")},type:"button",className:"btn btn",style:{background:"#d04545",color:"white"},children:"Abbrechen"}),"\xa0 \xa0",(0,d.jsx)("button",{onClick:async()=>{try{let e,a;F?(e="".concat(j,"/attorney/get_attorney/").concat(F._id),a="PUT"):(e="".concat(j,"/attorney"),a="POST");let l=await fetch(e,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(S)}),r=await l.json();console.log(r),201===r.status?o.oR.success("Daten erfolgreich gespeichert"):o.oR.error("Fehler beim Speichern der Daten. Weitere Informationen finden Sie auf der Konsole.")}catch(e){console.error("Error during API call:",e),o.oR.error("Error saving data. Please try again.")}},type:"button",style:{background:"#0b5995",color:"white"},className:"btn btn",children:"Speichern"})]})]})]}),(0,d.jsx)(o.N9,{})]})]})},c=r.memo(i)}}]);
//# sourceMappingURL=893.80b321f9.chunk.js.map