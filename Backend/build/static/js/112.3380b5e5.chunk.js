"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[112],{67112:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var r=s(69060),t=s(32980),l=(s(21680),s(38292)),o=s(51560),n=s(82496);const c=()=>{const e=(0,o.i6)(),[a,s]=(0,r.useState)({AttorneyMasterData:!1,adoptDataFromHealthcare:!1,powerOfAttorneyData:Array.from({length:3},(()=>({powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:[],powerOfAttorney_mobile:[]})))}),[c,h]=(0,r.useState)({CareProvisionMasterData:!1}),[i,m]=(0,r.useState)({SecuringMasterData:!1}),d=(e,a)=>{const{name:s,value:r,type:t,checked:l}=e.target;j((e=>{const o=[...e.healthCareData];if("checkbox"===t)o[a]={...o[a],[s]:l};else{const e="healthCare_phone"===s||r&&"healthCare_mobile"===s?p(r):r;o[a]={...o[a],[s]:e}}return{...e,healthCareData:o}}))},p=e=>{const a=e.replace(/\D/g,"");let s="";for(let r=0;r<a.length;r++)r>0&&r%30===0&&(s+=" / "),s+=a[r];return s},[x,j]=(0,r.useState)({healthCareMasterData:!1,healthCareData:Array.from({length:3},(()=>({healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:[]})))}),v=(e,a)=>{const{name:r,value:t,type:l,checked:o}=e.target;s((e=>{const s=[...e.powerOfAttorneyData];if("checkbox"===l)s[a]={...s[a],[r]:o};else{const e="powerOfAttorney_phone"===r||t&&"powerOfAttorney_mobile"===r?p(t):t;s[a]={...s[a],[r]:e}}return{...e,powerOfAttorneyData:s}}))};let f=localStorage.getItem("customerDatat"),N=JSON.parse(f);const y={healthCare:x,powerOfAttorney:a,careProvision:c,securingattorney:i,customer_id:null===N||void 0===N?void 0:N._id},u=()=>{j((()=>({healthCareData:Array.from({length:4},(()=>({healthCareMasterData:!1,healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:"",healthCare_mobile:""})))}))),s((()=>({powerOfAttorneyData:Array.from({length:4},(()=>({AttorneyMasterData:!1,adoptDataFromHealthcare:!1,powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:"",powerOfAttorney_mobile:""})))}))),h((()=>({CareProvisionMasterData:!1}))),m({prevSecuringMasterData:!1})};return(0,r.useEffect)((()=>{x.healthCareData.length<10&&j((e=>({...e,healthCareData:[...e.healthCareData,{healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:[]}]}))),a.powerOfAttorneyData.length<10&&s((e=>({...e,powerOfAttorneyData:[...e.powerOfAttorneyData,{powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:[],powerOfAttorney_mobile:[]}]})))}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.default,{}),(0,n.jsxs)("div",{className:"inner-page-wrap",children:[(0,n.jsxs)("div",{className:"tab-content",children:[(0,n.jsx)("div",{className:"tab-title",children:(0,n.jsx)("h4",{children:"Vollmachten"})}),(0,n.jsxs)("div",{className:"block-wrap m-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"col-sm-12",children:[(0,n.jsx)("h3",{style:{color:"#244D92"},children:"Gesundheitsvollmacht"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("label",{htmlFor:"healthCareMasterData",className:"col-sm-3 col-form-label fs-6",children:"Eintrag der Stammdaten"}),(0,n.jsxs)("div",{className:"col-sm-9 radio-check-wrap mt-2",children:[(0,n.jsx)("input",{type:"checkbox",onChange:()=>j((e=>({...e,healthCareMasterData:!e.healthCareMasterData,healthCareData:[...e.healthCareData]}))),checked:x.healthCareMasterData,name:"healthCareMasterData",required:!0}),(0,n.jsx)("span",{})]})]}),(0,n.jsx)("p",{className:"",style:{color:"#244D92"},children:"Bevollm\xe4chtigte Person(en):"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"row mb-2",children:[(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("b",{children:"Vorname"})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("b",{children:"Nachname"})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("b",{children:"Adresse"})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("b",{children:"Telefon"})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("b",{children:"Mobil"})})]}),(0,n.jsx)("div",{children:x.healthCareData&&x.healthCareData.map(((e,a)=>(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>d(e,a),value:e.healthCare_fname,name:"healthCare_fname",type:"text",placeholder:"John",className:"form-control z",id:"fname_".concat(a)})})})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>d(e,a),value:e.healthCare_lname,type:"text",name:"healthCare_lname",placeholder:"Doe",className:"form-control",id:"lname_".concat(a)})})})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("div",{className:" row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>d(e,a),value:e.healthCare_address,type:"text",name:"healthCare_address",placeholder:"Lorem Ipsum",className:"form-control",id:"address_".concat(a)})})})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("div",{className:" row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>d(e,a),value:e.healthCare_phone,type:"text",name:"healthCare_phone",placeholder:"853-456-8464",className:"form-control",id:"phone_".concat(a),maxLength:30,minLength:10})})})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("div",{className:" row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>d(e,a),value:e.healthCare_mobile,type:"text",name:"healthCare_mobile",placeholder:"853-456-8464",className:"form-control",id:"phone_".concat(a),maxLength:30,minLength:10})})})})]},a)))})]})]})}),(0,n.jsx)("hr",{}),(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"col-sm-12",children:[(0,n.jsx)("h3",{style:{color:"#244D92"},children:"Vorsorgevollmacht"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("label",{htmlFor:"AttorneyMasterData",className:"col-sm-3 col-form-label fs-6",children:"Eintrag der Stammdaten"}),(0,n.jsxs)("div",{className:"col-sm-9 radio-check-wrap mt-2",children:[(0,n.jsx)("input",{type:"checkbox",onChange:()=>s((e=>({...e,AttorneyMasterData:!e.AttorneyMasterData,powerOfAttorneyData:[...e.powerOfAttorneyData]}))),checked:a.AttorneyMasterData,name:"AttorneyMasterData"}),(0,n.jsx)("span",{})]})]}),(0,n.jsx)("p",{className:"",style:{color:"#244D92"},children:"Bevollm\xe4chtigte Person(en):"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("label",{htmlFor:"adoptDataFromHealthcare",className:"col-sm-3 col-form-label",children:"Daten aus Gesundheitsvollmacht \xfcbernehmen"}),(0,n.jsxs)("div",{className:"col-sm-1 radio-check-wrap mt-2",children:[(0,n.jsx)("input",{type:"checkbox",onChange:()=>s((e=>({...e,adoptDataFromHealthcare:!e.adoptDataFromHealthcare,powerOfAttorneyData:[...e.powerOfAttorneyData]}))),checked:a.adoptDataFromHealthcare,name:"adoptDataFromHealthcare"}),(0,n.jsx)("span",{})]})]}),(0,n.jsxs)("div",{className:"row mb-2 mt-3",children:[(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("b",{children:"Vorname"})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("b",{children:"Nachname"})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("b",{children:"Adresse"})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("b",{children:"Telefon"})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("b",{children:"Mobil"})})]}),a.powerOfAttorneyData&&a.powerOfAttorneyData.map(((e,a)=>(0,n.jsxs)("div",{className:"row ",children:[(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>v(e,a),value:e.powerOfAttorney_fname,name:"powerOfAttorney_fname",type:"text",placeholder:"John",className:"form-control",id:"inputPassword"})})})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>v(e,a),value:e.powerOfAttorney_lname,name:"powerOfAttorney_lname",type:"text",placeholder:"Doe",className:"form-control",id:"inputPassword"})})})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>v(e,a),value:e.powerOfAttorney_address,name:"powerOfAttorney_address",type:"text",placeholder:"Lorem Ipsum",className:"form-control",id:"inputPassword"})})})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>v(e,a),value:e.powerOfAttorney_phone,name:"powerOfAttorney_phone",type:"text",placeholder:"853-456-8464",className:"form-control",id:"inputPassword",maxLength:30,minLength:10})})})}),(0,n.jsx)("div",{className:"col-sm-2",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>v(e,a),value:e.powerOfAttorney_mobile,name:"powerOfAttorney_mobile",type:"text",placeholder:"853-456-8464",className:"form-control",id:"inputPassword",maxLength:30,minLength:10})})})})]},a)))]})})]}),(0,n.jsx)("hr",{}),(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"col-sm-12",children:[(0,n.jsx)("h3",{style:{color:"#244D92"},children:"Betreuungsverf\xfcgung"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("label",{htmlFor:"CareProvisionMasterData",className:"col-sm-3 col-form-label fs-6",children:"Eintrag der Stammdaten"}),(0,n.jsxs)("div",{className:"col-sm-9 radio-check-wrap mt-2",children:[(0,n.jsx)("input",{type:"checkbox",onChange:e=>{const{name:a,checked:s}=e.target;h({...c,[a]:s})},checked:c.CareProvisionMasterData,name:"CareProvisionMasterData"}),(0,n.jsx)("span",{})]})]})]})}),(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"col-sm-12",children:[(0,n.jsx)("h3",{style:{color:"#244D92"},children:"Vollmacht zur Absicherung des digitalen Erbes"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("label",{htmlFor:"SecuringMasterData",className:"col-sm-3 col-form-label fs-6",children:"Eintrag der Stammdaten"}),(0,n.jsxs)("div",{className:"col-sm-9 radio-check-wrap mt-2",children:[(0,n.jsx)("input",{type:"checkbox",onChange:e=>{const{name:a,value:s,type:r,checked:t}=e.target,l="checkbox"===r?t:s;m({...i,[a]:l})},checked:i.SecuringMasterData,name:"SecuringMasterData"}),(0,n.jsx)("span",{})]})]})]})}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{className:"text-end mx-3",children:[(0,n.jsx)("button",{onClick:()=>{localStorage.removeItem("tabId"),e("/customer/customer_info")},type:"button",className:"btn btn",style:{background:"#d04545",color:"white"},children:"Abbrechen"}),"\xa0 \xa0",(0,n.jsx)("button",{onClick:async()=>{if(x&&!1===x.healthCareMasterData)t.m4.error("Eintrag der Stammdaten");else try{let e=await fetch("".concat("http://95.217.77.208:4142","/attorney/create_attorney"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),a=await e.json();console.log(a),201===a.status?(t.m4.success("Daten erfolgreich gespeichert"),u()):t.m4.error("Fehler beim Speichern der Daten. Weitere Informationen finden Sie auf der Konsole.")}catch(e){console.error("Error during API call:",e),t.m4.error("Error saving data. Please try again.")}},type:"button",style:{background:"#0b5995",color:"white"},className:"btn btn",children:"Speichern"})]})]})]}),(0,n.jsx)(t.jd,{})]})]})},h=r.memo(c)}}]);
//# sourceMappingURL=112.3380b5e5.chunk.js.map