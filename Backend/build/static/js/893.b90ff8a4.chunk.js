"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[893,940],{26940:(e,a,s)=>{s.r(a),s.d(a,{default:()=>n});var l=s(65043),r=s(31899),t=s.n(r),o=(s(25015),s(70579));const n=e=>{let{onChange:a,selected:s}=e;return(0,l.useEffect)((()=>{}),[]),(0,o.jsx)("div",{children:(0,o.jsx)(t(),{className:"form-control form-search-control w-101",placeholderText:"Geburtsdatum",selected:s,onChange:a,dateFormat:"dd.MM.yyyy"})})}},87893:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var l=s(65043),r=s(47503),t=(s(92342),s(8124)),o=s(73216),n=s(26940),c=s(70579);const d=()=>{const e=(0,o.Zp)(),[a,s]=(0,l.useState)({AttorneyMasterData:!1,adoptDataFromHealthcare:!1,powerOfAttorneyData:Array.from({length:3},(()=>({powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:[],powerOfAttorney_mobile:[]})))}),[d,m]=(0,l.useState)({care_association:""}),[h,i]=(0,l.useState)({fname:"",lname:"",address:"",dob:"",plz:"",ort:""}),x=(e,a)=>{const{name:s,value:l,type:r,checked:t}=e.target;v((e=>{const o=[...e.healthCareData];if("checkbox"===r)o[a]={...o[a],[s]:t};else{const e="healthCare_phone"===s||l&&"healthCare_mobile"===s?p(l):l;o[a]={...o[a],[s]:e}}return{...e,healthCareData:o}}))},p=e=>{const a=e.replace(/\D/g,"");let s="";for(let l=0;l<a.length;l++)l>0&&l%30===0&&(s+=" / "),s+=a[l];return s},[j,v]=(0,l.useState)({healthCareMasterData:!1,healthCareData:Array.from({length:3},(()=>({healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:[]})))}),f=(e,a)=>{const{name:l,value:r,type:t,checked:o}=e.target;s((e=>{const s=[...e.powerOfAttorneyData];if("checkbox"===t)s[a]={...s[a],[l]:o};else{const e="powerOfAttorney_phone"===l||r&&"powerOfAttorney_mobile"===l?p(r):r;s[a]={...s[a],[l]:e}}return{...e,powerOfAttorneyData:s}}))},N=e=>{if(e instanceof Date){let a=new Date,s=a.getFullYear(),l=a.getMonth(),t=a.getDate();if(e.getFullYear()>s||e.getFullYear()===s&&e.getMonth()>l||e.getFullYear()===s&&e.getMonth()===l&&e.getDate()>t+1)return r.oR.warning("Das Startdatum darf nicht in der Zukunft liegen");i({...h,dob:e})}else if(e.target){const{name:a,value:s,type:l,checked:r}=e.target;if("plz"===a&&"text"===l){const e=s.replace(/[^0-9]/g,"");i({...h,plz:e})}else i({...h,[a]:"checkbox"===l?r:s})}else void 0!==e.value?i({...h,salution:e.value}):console.error("Invalid event or data provided to ContactChange.")};let u=localStorage.getItem("customerDatat"),y=JSON.parse(u);const w={healthCare:j,powerOfAttorney:a,careProvision:d,securingattorney:h,customer_id:null===y||void 0===y?void 0:y._id},_=()=>{v((()=>({healthCareData:Array.from({length:4},(()=>({healthCareMasterData:!1,healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:"",healthCare_mobile:""})))}))),s((()=>({powerOfAttorneyData:Array.from({length:4},(()=>({AttorneyMasterData:!1,adoptDataFromHealthcare:!1,powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:"",powerOfAttorney_mobile:""})))}))),m((()=>({care_association:""}))),i({fname:"",lname:"",address:"",plz:"",ort:"",dob:""})};return(0,l.useEffect)((()=>{j.healthCareData.length<10&&v((e=>({...e,healthCareData:[...e.healthCareData,{healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:[]}]}))),a.powerOfAttorneyData.length<10&&s((e=>({...e,powerOfAttorneyData:[...e.powerOfAttorneyData,{powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:[],powerOfAttorney_mobile:[]}]})))}),[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(t.default,{}),(0,c.jsxs)("div",{className:"inner-page-wrap",children:[(0,c.jsxs)("div",{className:"tab-content",children:[(0,c.jsx)("div",{className:"tab-title",children:(0,c.jsx)("h4",{children:"Vollmachten"})}),(0,c.jsxs)("div",{className:"block-wrap m-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-sm-12",children:[(0,c.jsx)("h3",{style:{color:"#244D92"},children:"Gesundheitsvollmacht"}),(0,c.jsx)("p",{className:"",style:{color:"#244D92"},children:"Bevollm\xe4chtigte Person(en):"}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"row mb-2",children:[(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Vorname"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Nachname"})}),(0,c.jsx)("div",{className:"col-sm-4",children:(0,c.jsx)("b",{children:"Adresse"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Telefon"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Mobil"})})]}),(0,c.jsx)("div",{children:j.healthCareData&&j.healthCareData.map(((e,a)=>(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:e=>x(e,a),value:e.healthCare_fname,name:"healthCare_fname",type:"text",placeholder:"John",className:"form-control z",id:"fname_".concat(a)})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:e=>x(e,a),value:e.healthCare_lname,type:"text",name:"healthCare_lname",placeholder:"Doe",className:"form-control",id:"lname_".concat(a)})})})}),(0,c.jsx)("div",{className:"col-sm-4",children:(0,c.jsx)("div",{className:" row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:e=>x(e,a),value:e.healthCare_address,type:"text",name:"healthCare_address",placeholder:"Lorem Ipsum",className:"form-control",id:"address_".concat(a)})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:" row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:e=>x(e,a),value:e.healthCare_phone,type:"text",name:"healthCare_phone",placeholder:"853-456-8464",className:"form-control",id:"phone_".concat(a),maxLength:30,minLength:10})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:" row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:e=>x(e,a),value:e.healthCare_mobile,type:"text",name:"healthCare_mobile",placeholder:"853-456-8464",className:"form-control",id:"phone_".concat(a),maxLength:30,minLength:10})})})})]},a)))})]})]})}),(0,c.jsx)("hr",{}),(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-sm-12",children:[(0,c.jsx)("h3",{style:{color:"#244D92"},children:"Vorsorgevollmacht"}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("label",{htmlFor:"adoptDataFromHealthcare",className:"col-sm-3 col-form-label",children:"Daten aus Gesundheitsvollmacht \xfcbernehmen"}),(0,c.jsxs)("div",{className:"col-sm-1 radio-check-wrap mt-2",children:[(0,c.jsx)("input",{type:"checkbox",onChange:()=>{s((e=>({...e,adoptDataFromHealthcare:!e.adoptDataFromHealthcare,powerOfAttorneyData:e.adoptDataFromHealthcare?a.powerOfAttorneyData.map((e=>({powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:"",powerOfAttorney_mobile:""}))):j.healthCareData.map((e=>({powerOfAttorney_fname:e.healthCare_fname,powerOfAttorney_lname:e.healthCare_lname,powerOfAttorney_address:e.healthCare_address,powerOfAttorney_phone:e.healthCare_phone,powerOfAttorney_mobile:e.healthCare_mobile})))})))},checked:a.adoptDataFromHealthcare,name:"adoptDataFromHealthcare"}),(0,c.jsx)("span",{})]})]}),(0,c.jsx)("p",{className:"",style:{color:"#244D92"},children:"Bevollm\xe4chtigte Person(en):"}),(0,c.jsxs)("div",{className:"row mb-2 mt-3",children:[(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Vorname"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Nachname"})}),(0,c.jsx)("div",{className:"col-sm-4",children:(0,c.jsx)("b",{children:"Adresse"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Telefon"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Mobil"})})]}),a.powerOfAttorneyData&&a.powerOfAttorneyData.map(((e,a)=>(0,c.jsxs)("div",{className:"row ",children:[(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:e=>f(e,a),value:e.powerOfAttorney_fname,name:"powerOfAttorney_fname",type:"text",placeholder:"John",className:"form-control",id:"inputPassword"})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:e=>f(e,a),value:e.powerOfAttorney_lname,name:"powerOfAttorney_lname",type:"text",placeholder:"Doe",className:"form-control",id:"inputPassword"})})})}),(0,c.jsx)("div",{className:"col-sm-4",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:e=>f(e,a),value:e.powerOfAttorney_address,name:"powerOfAttorney_address",type:"text",placeholder:"Lorem Ipsum",className:"form-control",id:"inputPassword"})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:e=>f(e,a),value:e.powerOfAttorney_phone,name:"powerOfAttorney_phone",type:"text",placeholder:"853-456-8464",className:"form-control",id:"inputPassword",maxLength:30,minLength:10})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:e=>f(e,a),value:e.powerOfAttorney_mobile,name:"powerOfAttorney_mobile",type:"text",placeholder:"853-456-8464",className:"form-control",id:"inputPassword",maxLength:30,minLength:10})})})})]},a)))]})})]}),(0,c.jsx)("hr",{}),(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-sm-12",children:[(0,c.jsx)("h3",{style:{color:"#244D92"},children:"Betreuungsverf\xfcgung"}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("label",{className:"col-sm-2 col-form-label",children:"Bemerkungen"}),(0,c.jsx)("div",{className:"col-sm-10",children:(0,c.jsx)("textarea",{value:d.care_association,name:"care_association",onChange:e=>{const{name:a,value:s}=e.target;m({...d,[a]:s})},className:"form-control",placeholder:"Bemerkungen"})})]})]})}),(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-sm-12",children:[(0,c.jsx)("h3",{style:{color:"#244D92"},children:"Vollmacht zur Absicherung des digitalen Erbes"}),(0,c.jsxs)("div",{className:"row mb-2 mt-3",children:[(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Vorname"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Nachname"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Geburtsdatum"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Stra\xdfe mit Hausnummer"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"PLZ"})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("b",{children:"Ort"})})]}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:N,name:"fname",value:h.fname,type:"text",placeholder:"Vorname",className:"form-control",id:"inputPassword"})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:N,name:"lname",value:h.lname,type:"text",placeholder:"Nachname",className:"form-control",id:"inputPassword"})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)(n.default,{className:"form-control",selected:h.dob,onChange:N})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:N,value:h.address,name:"address",type:"text",placeholder:"Stra\xdfe mit Hausnummer",className:"form-control"})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:N,name:"plz",value:h.plz,type:"text",className:"form-control",placeholder:"PLZ",maxLength:6,minLength:3})})})}),(0,c.jsx)("div",{className:"col-sm-2",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{onChange:N,name:"ort",value:h.ort,type:"text",className:"form-control",placeholder:"Ort"})})})})]})]})}),(0,c.jsx)("hr",{}),(0,c.jsxs)("div",{className:"text-end mx-3",children:[(0,c.jsx)("button",{onClick:()=>{localStorage.removeItem("tabId"),e("/customer/customer_info")},type:"button",className:"btn btn",style:{background:"#d04545",color:"white"},children:"Abbrechen"}),"\xa0 \xa0",(0,c.jsx)("button",{onClick:async()=>{try{let e=await fetch("".concat("http://95.217.77.208:4142","/attorney/create_attorney"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),a=await e.json();console.log(a),201===a.status?(r.oR.success("Daten erfolgreich gespeichert"),_()):r.oR.error("Fehler beim Speichern der Daten. Weitere Informationen finden Sie auf der Konsole.")}catch(e){console.error("Error during API call:",e),r.oR.error("Error saving data. Please try again.")}},type:"button",style:{background:"#0b5995",color:"white"},className:"btn btn",children:"Speichern"})]})]})]}),(0,c.jsx)(r.N9,{})]})]})},m=l.memo(d)}}]);
//# sourceMappingURL=893.b90ff8a4.chunk.js.map