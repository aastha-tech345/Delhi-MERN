"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[162,930],{18930:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var s=t(72791),r=t(58617),l=t(84373),o=t(70828),n=t(57689),c=t(80184);const i=()=>{var e,a,t,i,d,m;const h=(0,n.s0)();let x=localStorage.getItem("tabId")||"customer_info";const p=(e,a,t)=>(t&&"a"===t.target.tagName.toLowerCase()&&t.preventDefault(),"KlientInnen"===a?(localStorage.setItem("tabId","customer_info"),h("/customer/customer_info")):"Kontakte"===a?(localStorage.setItem("tabId","contact"),h("/customer/contact")):"Aktivitat"===a?(localStorage.setItem("tabId","activity"),h("/customer/activity")):"Dokumente"===a?(localStorage.setItem("tabId","document"),h("/customer/document")):"Vollmachten"===a?(localStorage.setItem("tabId","attorney"),h("/customer/attorney")):"SPV"===a?(localStorage.setItem("tabId","services"),h("/customer/services")):"Rechnung"===a?(localStorage.setItem("tabId","bills"),h("/customer/bills")):void 0);(0,s.useEffect)((()=>{p()}),[x]);let v=localStorage.getItem("customerDatat"),u=JSON.parse(v);const f=(null===u||void 0===u||null===(e=u.fname)||void 0===e?void 0:e.slice(0,1).toUpperCase())+(null===u||void 0===u||null===(a=u.fname)||void 0===a?void 0:a.slice(1).toLowerCase()),g=(null===u||void 0===u||null===(t=u.lname)||void 0===t?void 0:t.slice(0,1).toUpperCase())+(null===u||void 0===u||null===(i=u.lname)||void 0===i?void 0:i.slice(1).toLowerCase());let b=(null===u||void 0===u||null===(d=u.street)||void 0===d?void 0:d.slice(0,1).toUpperCase())+(null===u||void 0===u||null===(m=u.street)||void 0===m?void 0:m.slice(1).toLowerCase());return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"whiteBox",children:[(0,c.jsx)("div",{className:"blueBoxTop",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-sm-4",children:[(0,c.jsxs)("p",{style:{color:"white",marginTop:"5px"},children:["KlientInnen: ","".concat(f," ").concat(g)]}),(0,c.jsx)(o.VFp,{style:{color:"white"}}),"\xa0",(0,c.jsx)("span",{style:{color:"white"},children:b})]}),(0,c.jsxs)("div",{className:"col-sm-8 mt-4 text-right",children:[(0,c.jsxs)("button",{className:"btn btn-outline",style:{color:"white",border:"1px solid white",marginRight:"10px"},children:[(0,c.jsx)(r.Zuw,{className:"f-2"})," ",null===u||void 0===u?void 0:u.email]}),(0,c.jsxs)("button",{className:"btn btn-outline",style:{color:"white",border:"1px solid white",marginRight:"10px"},children:[(0,c.jsx)(l.HQO,{className:"f-2"})," ",null===u||void 0===u?void 0:u.phone]})]})]})}),(0,c.jsxs)("div",{className:"whiteBoxWithPdLR",children:[(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("nav",{children:(0,c.jsxs)("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist",children:[(0,c.jsxs)("button",{className:"nav-link ".concat("customer_info"===x?"active":""),id:"customer_info-tab","data-bs-toggle":"tab",role:"tab","aria-selected":"customer_info"===x,onClick:e=>p(0,"KlientInnen",e),style:{marginRight:"10px",marginLeft:"20px"},children:[(0,c.jsx)("i",{className:"fa-solid fa-info fa-fw infoIcon"}),"KlientInnen"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("contact"===x?"active":""),id:"contact-tab","data-bs-toggle":"tab",role:"tab","aria-controls":"contact","aria-selected":"contact"===x,onClick:e=>p(0,"Kontakte",e),style:{marginRight:"10px"},children:[" ",(0,c.jsx)("i",{className:"fa-regular fa-address-book fa-fw"}),"Kontakte"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("activity"===x?"active":""),id:"activity-tab","data-bs-toggle":"tab","data-bs-target":"#activity",role:"tab","aria-controls":"activity","aria-selected":"activity"===x,onClick:e=>p(0,"Aktivitat",e),style:{marginRight:"10px"},children:[(0,c.jsx)("i",{className:"fa-solid fa-heart-pulse fa-fw"}),"Aktivitat"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("document"===x?"active":""),id:"document-tab","data-bs-toggle":"tab","data-bs-target":"#document",role:"tab","aria-controls":"document","aria-selected":"document"===x,onClick:e=>p(0,"Dokumente",e),style:{marginRight:"10px"},children:[(0,c.jsx)("i",{className:"fa-regular fa-file fa-fw"}),"Dokumente"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("attorney"===x?"active":""),id:"attorney-tab","data-bs-toggle":"tab","data-bs-target":"#attorney",role:"tab","aria-controls":"attorney","aria-selected":"attorney"===x,onClick:e=>p(0,"Vollmachten",e),style:{marginRight:"10px"},children:[(0,c.jsx)("i",{className:"fa-solid fa-paint-roller fa-fw"}),"Vollmachten"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("services"===x?"active":""),id:"services-tab","data-bs-toggle":"tab","data-bs-target":"#services",role:"tab","aria-controls":"services","aria-selected":"services"===x,onClick:e=>p(0,"SPV",e),style:{marginRight:"10px"},children:[" ",(0,c.jsx)("i",{className:"fa-regular fa-lightbulb fa-fw"}),"SPV"]}),(0,c.jsxs)("button",{className:"nav-link ".concat("bills"===x?"active":""),id:"bills-tab","data-bs-toggle":"tab","data-bs-target":"#bills",role:"tab","aria-controls":"bills","aria-selected":"bills"===x,onClick:e=>p(0,"Rechnung",e),style:{marginRight:"10px"},children:[(0,c.jsx)("i",{className:"fa-regular fa-file-lines fa-fw"}),"Rechnung"]})]})})})}),(0,c.jsx)("br",{})]})]})})},d=s.memo(i)},96162:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var s=t(72791),r=t(29655),l=(t(5462),t(18930)),o=t(57689),n=t(80184);const c=()=>{const e=(0,o.s0)(),[a,t]=(0,s.useState)({AttorneyMasterData:!1,adoptDataFromHealthcare:!1,powerOfAttorneyData:Array.from({length:3},(()=>({powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:[]})))}),[c,i]=(0,s.useState)({CareProvisionMasterData:!1}),[d,m]=(0,s.useState)({SecuringMasterData:!1}),h=(e,a)=>{const{name:t,value:s,type:r,checked:l}=e.target;v((e=>{const o=[...e.healthCareData];if("checkbox"===r)o[a]={...o[a],[t]:l};else{const e="healthCare_phone"===t?x(s):s;o[a]={...o[a],[t]:e}}return{...e,healthCareData:o}}))},x=e=>{const a=e.replace(/\D/g,"");let t="";for(let s=0;s<a.length;s++)s>0&&s%10===0&&(t+=" / "),t+=a[s];return t},[p,v]=(0,s.useState)({healthCareMasterData:!1,healthCareData:Array.from({length:3},(()=>({healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:[]})))}),u=(e,a)=>{const{name:s,value:r,type:l,checked:o}=e.target;t((e=>{const t=[...e.powerOfAttorneyData];if(t[a]={...t[a],[s]:"checkbox"===l?o:r},"powerOfAttorney_phone"===s){const e=r.replace(/\D/g,"");let l="";for(let a=0;a<e.length;a++)a>0&&a%10===0&&(l+=" / "),l+=e[a];t[a][s]=l}return{...e,powerOfAttorneyData:t}}))};let f=localStorage.getItem("customerDatat"),g=JSON.parse(f);const b={healthCare:p,powerOfAttorney:a,careProvision:c,securingattorney:d,customer_id:null===g||void 0===g?void 0:g._id},j=()=>{v((()=>({healthCareData:Array.from({length:4},(()=>({healthCareMasterData:!1,healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:""})))}))),t((()=>({powerOfAttorneyData:Array.from({length:4},(()=>({AttorneyMasterData:!1,adoptDataFromHealthcare:!1,powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:""})))}))),i((()=>({CareProvisionMasterData:!1}))),m({prevSecuringMasterData:!1})};return(0,s.useEffect)((()=>{p.healthCareData.length<10&&v((e=>({...e,healthCareData:[...e.healthCareData,{healthCare_fname:"",healthCare_lname:"",healthCare_address:"",healthCare_phone:[]}]}))),a.powerOfAttorneyData.length<10&&t((e=>({...e,powerOfAttorneyData:[...e.powerOfAttorneyData,{powerOfAttorney_fname:"",powerOfAttorney_lname:"",powerOfAttorney_address:"",powerOfAttorney_phone:[]}]})))}),[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{style:{background:"#fff"},children:[(0,n.jsx)(l.default,{}),(0,n.jsx)("h5",{className:"mx-4",style:{color:"#244D92"},children:"Vollmachten"}),(0,n.jsxs)("div",{className:"mx-3",style:{border:"1px solid lightgray",borderRadius:"5px"},children:[(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("div",{className:"row p-3",children:(0,n.jsxs)("div",{className:"col-sm-12",children:[(0,n.jsx)("p",{style:{color:"#244D92"},children:"GESUNDHEITSVOLLMACHT"}),"\xa0Eintrag der Stammdaten \xa0\xa0",(0,n.jsx)("input",{type:"checkbox",onChange:()=>v((e=>({...e,healthCareMasterData:!e.healthCareMasterData,healthCareData:[...e.healthCareData]}))),checked:p.healthCareMasterData,name:"healthCareMasterData",required:!0}),(0,n.jsx)("p",{className:"mt-3",style:{color:"#244D92"},children:"Bevollm\xe4chtigte Person(en):"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-sm-3",children:"Vorname"}),(0,n.jsx)("div",{className:"col-sm-3",children:"Nachname"}),(0,n.jsx)("div",{className:"col-sm-3",children:"Adresse"}),(0,n.jsx)("div",{className:"col-sm-3",children:"Telefone"})]}),p.healthCareData&&p.healthCareData.map(((e,a)=>(0,n.jsxs)("div",{className:"row mb-2",children:[(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("div",{className:"mb-2 row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>h(e,a),value:e.healthCare_fname,name:"healthCare_fname",type:"text",placeholder:"John",className:"form-control",id:"fname_".concat(a)})})})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("div",{className:"mb-2 row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>h(e,a),value:e.healthCare_lname,type:"text",name:"healthCare_lname",placeholder:"Doe",className:"form-control",id:"lname_".concat(a)})})})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("div",{className:"mb-2 row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>h(e,a),value:e.healthCare_address,type:"text",name:"healthCare_address",placeholder:"Lorem Ipsum",className:"form-control",id:"address_".concat(a)})})})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("div",{className:"mb-2 row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>h(e,a),value:e.healthCare_phone,type:"text",name:"healthCare_phone",placeholder:"0121456789 / 0123456789",className:"form-control",id:"phone_".concat(a),maxLength:23,minLength:10})})})})]},a)))]})]})}),(0,n.jsx)("div",{className:"row p-3",children:(0,n.jsxs)("div",{className:"col-sm-12",children:[(0,n.jsx)("p",{style:{color:"#244D92"},children:"VORSORGEVOLLMACHT"}),"\xa0Eintrag der Stammdaten\xa0\xa0\xa0",(0,n.jsx)("input",{type:"checkbox",onChange:()=>t((e=>({...e,AttorneyMasterData:!e.AttorneyMasterData,powerOfAttorneyData:[...e.powerOfAttorneyData]}))),checked:a.AttorneyMasterData,name:"AttorneyMasterData"}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{className:"mt-3",style:{color:"#244D92"},children:"Bevollm\xe4chtigte Person(en):"}),"\xa0Datensatz aus Gesundheitsvollmacht \xfcbernehmen\xa0\xa0\xa0",(0,n.jsx)("input",{type:"checkbox",onChange:()=>t((e=>({...e,adoptDataFromHealthcare:!e.adoptDataFromHealthcare,powerOfAttorneyData:[...e.powerOfAttorneyData]}))),checked:a.adoptDataFromHealthcare,name:"adoptDataFromHealthcare"}),(0,n.jsxs)("div",{className:"row mt-3 mb-2",children:[(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("b",{children:"Vorname"})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("b",{children:"Nachname"})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("b",{children:"Adresse"})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("b",{children:"Telefone"})})]}),a.powerOfAttorneyData&&a.powerOfAttorneyData.map(((e,a)=>(0,n.jsxs)("div",{className:"row mb-2",children:[(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("div",{className:"mb-2 row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>u(e,a),value:e.powerOfAttorney_fname,name:"powerOfAttorney_fname",type:"text",placeholder:"John",className:"form-control",id:"inputPassword"})})})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("div",{className:"mb-2 row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>u(e,a),value:e.powerOfAttorney_lname,name:"powerOfAttorney_lname",type:"text",placeholder:"Doe",className:"form-control",id:"inputPassword"})})})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("div",{className:"mb-2 row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>u(e,a),value:e.powerOfAttorney_address,name:"powerOfAttorney_address",type:"text",placeholder:"Lorem Ipsum",className:"form-control",id:"inputPassword"})})})}),(0,n.jsx)("div",{className:"col-sm-3",children:(0,n.jsx)("div",{className:"mb-2 row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("input",{onChange:e=>u(e,a),value:e.powerOfAttorney_phone,name:"powerOfAttorney_phone",type:"text",placeholder:"0121456789 / 0123456789",className:"form-control",id:"inputPassword",maxLength:23,minLength:10})})})})]},a)))]})})]}),(0,n.jsx)("div",{className:"row p-3",children:(0,n.jsxs)("div",{className:"col-sm-12",children:[(0,n.jsx)("p",{style:{color:"#244D92"},children:"BETREUUNGSVER F\xdcGUNG"}),"\xa0Eintrag der Stammdaten\xa0\xa0\xa0",(0,n.jsx)("input",{type:"checkbox",onChange:e=>{const{name:a,checked:t}=e.target;i({...c,[a]:t})},checked:c.CareProvisionMasterData,name:"CareProvisionMasterData"})]})}),(0,n.jsx)("hr",{className:"mx-3"}),(0,n.jsx)("div",{className:"row p-3",children:(0,n.jsxs)("div",{className:"col-sm-12",children:[(0,n.jsx)("p",{style:{color:"#244D92"},children:"VOLLMACHT Z UR A B SICHERUNG DES DIGITALEN ER B ES"}),"\xa0Eintrag der Stammdaten\xa0\xa0\xa0",(0,n.jsx)("input",{type:"checkbox",onChange:e=>{const{name:a,value:t,type:s,checked:r}=e.target,l="checkbox"===s?r:t;m({...d,[a]:l})},checked:d.SecuringMasterData,name:"SecuringMasterData"})]})}),(0,n.jsx)("hr",{className:"mx-3"}),(0,n.jsxs)("div",{className:"text-end mx-3",children:[(0,n.jsx)("button",{onClick:()=>{localStorage.removeItem("tabId"),e("/customer/customer_info")},type:"button",className:"btn btn",style:{background:"#d04545",color:"white"},children:"Abbrechen"}),"\xa0 \xa0",(0,n.jsx)("button",{onClick:async()=>{if(p&&!1===p.healthCareMasterData)r.Am.error("Eintrag der Stammdaten");else try{let e=await fetch("".concat("http://95.217.77.208:4142","/attorney/create_attorney"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),a=await e.json();console.log(a),201===a.status?(r.Am.success("Data saved successfully!"),j()):r.Am.error("Error saving data. Please check the console for details.")}catch(e){console.error("Error during API call:",e),r.Am.error("Error saving data. Please try again.")}},type:"button",style:{background:"#0b5995",color:"white"},className:"btn btn",children:"Speichern Sie"})]}),(0,n.jsx)("br",{})]}),(0,n.jsx)(r.Ix,{})]})})},i=s.memo(c)}}]);
//# sourceMappingURL=162.dfd30d40.chunk.js.map