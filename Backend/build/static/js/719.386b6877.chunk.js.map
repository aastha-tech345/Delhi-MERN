{"version":3,"file":"static/js/719.386b6877.chunk.js","mappings":"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","sources":["Api.js","views/customer/document/Document.jsx"],"sourcesContent":["import axios from 'axios'\nexport const getFetch = async (url) => {\n  try {\n    // const token = localStorage.getItem('token')\n    const response = await axios({\n      method: 'get',\n      url: `${url}`,\n      headers: {\n        // Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      // withCredentials: true,\n    })\n    // if (response.status === 200) {\n    return response\n    // }\n  } catch (error) {\n    console.log(error)\n    return error\n  }\n}\nexport const getFetchByLimit = async (url, limit, page) => {\n  try {\n    const token = localStorage.getItem('token')\n    const response = await axios({\n      method: 'GET',\n      url: `${url}/${limit}/${page}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      withCredentials: true,\n    })\n    if (response.status === 200) {\n      return await response?.data\n    }\n  } catch (error) {\n    console.log(error)\n    return error\n  }\n}\nexport const getOneFetch = async (url, id) => {\n  try {\n    const token = localStorage.getItem('token')\n    const response = await axios({\n      method: 'GET',\n      url: `${url}/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      withCredentials: true,\n    })\n    if (response?.status === 200) {\n      return await response?.data\n    }\n  } catch (error) {\n    console.log(error)\n    if (error?.response?.status === 401) {\n      return 401\n    }\n    return error\n  }\n}\nexport const postFetch = async (url, data) => {\n  try {\n    const token = localStorage.getItem('token')\n    const response = await axios({\n      method: 'post',\n      url,\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'multipart/form-data; boundary=<calculated when request is sent>',\n      },\n      data,\n      withCredentials: true,\n    })\n    if (response) {\n      return response\n    }\n  } catch (error) {\n    return error\n  }\n}\nexport const postFetchUser = async (url, data) => {\n  try {\n    // const token = localStorage.getItem(\"token\")\n    const response = await axios({\n      method: 'post',\n      url,\n      headers: {\n        // Authorization: `Bearer ${token}`,\n        'Content-Type': 'multipart/form-data',\n      },\n      data,\n      //   withCredentials: true,\n    })\n    if (response) {\n      return response\n    }\n  } catch (error) {\n    return error\n  }\n}\nexport const patchFetch = async (url, id, data) => {\n  try {\n    const token = localStorage.getItem('token')\n    const response = await axios({\n      method: 'patch',\n      url: `${url}/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      data,\n      withCredentials: true,\n    })\n    if (response?.status === 200) {\n      return response\n    }\n  } catch (error) {\n    if (error?.response?.status === 401) {\n      return 401\n    } else {\n      return error?.response\n    }\n  }\n}\nexport const putFetch = async (url, data) => {\n  try {\n    const token = localStorage.getItem('token')\n    const response = await axios({\n      method: 'put',\n      url: `${url}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'multipart/form-data; boundary=<calculated when request is sent>',\n      },\n      data,\n      withCredentials: true,\n    })\n    if (response.status === 200) {\n      return response\n    }\n  } catch (error) {\n    if (error) {\n      return 401\n    } else {\n      return error.response\n    }\n  }\n}\nexport const putFetchById = async (url) => {\n  try {\n    const token = localStorage.getItem('token')\n    const response = await axios({\n      method: 'put',\n      url: `${url}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      withCredentials: true,\n    })\n    if (response.status === 200) {\n      return response\n    }\n  } catch (error) {\n    if (error) {\n      return 401\n    } else {\n      return error.response\n    }\n  }\n}\nexport const putFetchData = async (url, data) => {\n  try {\n    // const token = localStorage.getItem('token')\n    const response = await axios({\n      method: 'put',\n      url: `${url}`,\n      headers: {\n        // Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      data,\n      // withCredentials: true,\n    })\n    if (response) {\n      return response\n    }\n  } catch (error) {\n    if (error?.response?.status === 401) {\n      return 401\n    } else {\n      return error.response\n    }\n  }\n}\nexport const deleteFetch = async (url, id) => {\n  try {\n    // const token = localStorage.getItem('token')\n    const response = await axios({\n      method: 'delete',\n      url: `${url}/${id}`,\n      headers: {\n        // Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      // withCredentials: true,\n    })\n    if (response.status === 200) {\n      return response\n    }\n  } catch (error) {\n    if (error?.response?.status === 401) {\n      return 401\n    }\n  }\n}\n\nexport const postFetchData = async (url, data) => {\n  try {\n    // const token = localStorage.getItem('token')\n    const response = await axios({\n      method: 'post',\n      url: `${url}`,\n      headers: {\n        // Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      data,\n      // withCredentials: true,\n    })\n    if (response) {\n      return response?.data\n    }\n  } catch (error) {\n    if (error?.response?.status === 401) {\n      return 401\n    } else {\n      return error\n    }\n  }\n}\n","import React, { useEffect, useState } from 'react'\nimport Modal from 'react-bootstrap/Modal'\nimport { MdAdd } from 'react-icons/md'\nimport { Divider, Radio, Table } from 'antd'\nimport { GrEdit } from 'react-icons/gr'\nimport { MdDelete } from 'react-icons/md'\nimport axios from 'axios'\nimport { postFetchUser } from 'src/Api'\nconst columns = [\n  {\n    title: 'Title',\n    dataIndex: 'document_title',\n    render: (text) => <a>{text}</a>,\n  },\n  {\n    title: 'Dokumententyp',\n    dataIndex: 'document_type',\n  },\n  {\n    title: 'AKTION',\n    dataIndex: 'action',\n    render: (_, record) => (\n      <>\n        <GrEdit />\n        &nbsp; Bearbeiten &nbsp;&nbsp;&nbsp;\n        <MdDelete />\n        Löschen\n      </>\n    ),\n  },\n]\n\n// rowSelection object indicates the need for row selection\nconst rowSelection = {\n  onChange: (selectedRowKeys, selectedRows) => {\n    console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows)\n  },\n  getCheckboxProps: (record) => ({\n    disabled: record.name === 'Disabled User',\n    // Column configuration not to be checked\n    name: record.name,\n  }),\n}\n\nconst Document = () => {\n  const [selectionType, setSelectionType] = useState('checkbox')\n  const [show, setShow] = useState(false)\n  const apiUrl = process.env.REACT_APP_API_URL\n  // const [document_type, setDocumentType] = useState()\n  // const [document_title, setDocumentTitle] = useState()\n  let res = localStorage.getItem('customerDatat')\n  let result = JSON.parse(res)\n  const [data, setData] = useState({\n    document_title: '',\n    document_type: '',\n    customer_id: result._id,\n  })\n  const [document_upload, setDocumentUpload] = useState('')\n  const [documentRecord, setDocumentRecord] = useState([])\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    setData({ ...data, [name]: value })\n  }\n  const handleClose = () => setShow(false)\n  const handleShow = () => setShow(true)\n\n  const saveData = async (e) => {\n    try {\n      e.preventDefault()\n      const myForm = new FormData()\n      myForm.append('document_title', data.document_title)\n      myForm.append('document_type', data.document_type)\n      myForm.append('customer_id', data.customer_id)\n      myForm.append('document_upload', document_upload)\n\n      console.log(myForm)\n      const url = `${apiUrl}/document/create_document`\n      console.log(url)\n      const response = await postFetchUser(url, myForm)\n      handleClose()\n      getDetails()\n      //console.log('ashishh', response)\n    } catch (error) {\n      return error\n    }\n  }\n\n  const getDetails = async () => {\n    try {\n      const result = await fetch(`${apiUrl}/document/get_document`)\n      const data = await result.json()\n      setDocumentRecord(data)\n    } catch (error) {\n      console.error('Error fetching customer record:', error)\n    }\n  }\n  let dataa = documentRecord\n  useEffect(() => {\n    getDetails()\n  }, [])\n\n  return (\n    <>\n      <div className=\"row\">\n        <h5 className=\"mt-3 mx-3\">Dokumente</h5>\n        <hr />\n      </div>\n      <div className=\"row\" style={{ border: '1px solid lightgray', borderRadius: '5px' }}>\n        <div className=\"col-sm-7\">\n          <h5>Dokumente verwalten</h5>\n          <p>\n            Senden Sie anpassbare Angebote, Vorschläge und Verträge, um Geschäfte schneller\n            abzuschließen.\n          </p>\n        </div>\n        <div className=\"col-sm-2\"></div>\n        <div className=\"col-sm-3 mt-3\">\n          <button\n            type=\"button\"\n            className=\"btn btn text-light\"\n            style={{ background: '#0b5995' }}\n            onClick={handleShow}\n          >\n            <MdAdd style={{ color: 'white' }} />\n            &nbsp; Dokument erstellen\n          </button>\n          <Modal show={show} onHide={handleClose} centered>\n            <Modal.Header closeButton>\n              <Modal.Title>Details zum Dokument</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <label htmlFor=\"title\">Titel</label>\n              <input\n                id=\"title\"\n                required\n                name=\"document_title\"\n                value={data.document_title}\n                onChange={handleChange}\n                type=\"text\"\n                className=\"form-control\"\n              />\n              <label htmlFor=\"documentType\">Documenttype</label>\n              <select\n                id=\"document_type\"\n                name=\"document_type\"\n                value={data.document_type}\n                onChange={handleChange}\n                className=\"form-control\"\n              >\n                <option>--select--</option>\n                <option value=\"pdf\">pdf</option>\n              </select>\n              <label htmlFor=\"fileUpload\">Datei-Upload</label>\n              <input\n                id=\"fileUpload\"\n                type=\"file\"\n                className=\"form-control\"\n                name=\"document_upload\"\n                onChange={(e) => setDocumentUpload(e.target.files[0])}\n              />\n            </Modal.Body>\n            <Modal.Footer>\n              <div className=\"modal-footer\">\n                <button\n                  className=\"btn btn\"\n                  onClick={handleClose}\n                  style={{ background: '#d04545', color: 'white' }}\n                >\n                  {' '}\n                  Abbrechen\n                </button>\n                &nbsp; &nbsp;\n                <button\n                  className=\"btn btn\"\n                  onClick={saveData}\n                  style={{ background: '#0b5995', color: 'white' }}\n                >\n                  Speichern\n                </button>\n              </div>\n            </Modal.Footer>\n          </Modal>\n        </div>\n      </div>\n      <br />\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <Table\n            rowSelection={{\n              type: selectionType,\n              ...rowSelection,\n            }}\n            columns={columns}\n            dataSource={dataa}\n          />\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default React.memo(Document)\n"],"names":["postFetchUser","async","url","data","response","axios","method","headers","error","putFetchData","concat","_error$response3","status","deleteFetch","id","_error$response4","postFetchData","_error$response5","columns","title","dataIndex","render","text","_jsx","children","_","record","_jsxs","_Fragment","GrEdit","MdDelete","rowSelection","onChange","selectedRowKeys","selectedRows","console","log","getCheckboxProps","disabled","name","Document","selectionType","setSelectionType","useState","show","setShow","apiUrl","process","res","localStorage","getItem","result","JSON","parse","setData","document_title","document_type","customer_id","_id","document_upload","setDocumentUpload","documentRecord","setDocumentRecord","handleChange","e","value","target","handleClose","getDetails","fetch","json","dataa","useEffect","className","style","border","borderRadius","type","background","onClick","handleShow","MdAdd","color","Modal","onHide","centered","Header","closeButton","Title","Body","htmlFor","required","files","Footer","preventDefault","myForm","FormData","append","Table","dataSource","React"],"sourceRoot":""}